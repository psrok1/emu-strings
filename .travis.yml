services:
  - docker
jobs:
  include:
    - stage: build_emulators
      name: 'Build Winedrop emulator'
      env:
        - IMAGE_NAME=psrok1/winedrop
        - DOCKERFILE_PATH=./emulators/winedrop
      script: ./.travis/emulator-script.sh
      deploy:
        provider: script
        script: ./.travis/emulator-deploy.sh
        on:
          branch: travis-ci
    - name: 'Build Box-js emulator'
      env:
        - IMAGE_NAME=psrok1/emu-strings-boxjs
        - DOCKERFILE_PATH=./emulators/boxjs
      script: ./.travis/emulator-script.sh
      deploy:
        provider: script
        script: ./.travis/emulator-deploy.sh
        on:
          branch: travis-ci
